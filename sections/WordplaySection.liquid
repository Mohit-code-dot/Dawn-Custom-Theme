<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css">
<style>
  /* body{
  	overflow: auto;
  } */
    #wordplaySection #wordwrapper {
      position: relative; 
      width: 100%;
      height: 90vh;
      background: {{section.settings.wordplay_section_color}};
      overflow:hidden;
      padding:0 10px;
      user-select: none;
    }
    .element {
      position: absolute;
      width: 200px;
      height: 40px;
      top: 0px;
      left:50%;
      background-color: {{section.settings.wordbar_bg_color}};
      cursor:grab;
      display:flex;
      justify-content:center;
      align-items:center;
      z-index:9;
      font-weight:800;
      color:{{section.settings.wordbar_text_color}};
      border-radius:{{section.settings.wordplay_bar_corner}}px;
    }
    #wordplaySection #wordwrapper h2 {
      color:{{section.settings.wordbar_text_color}};
      font-weight:800;
      font-size:5rem;
      margin:0;
    }
     #wordplaySection #wordwrapper .swiper {
        width: 50%;
        height: 65%;
      }
     #wordplaySection #wordwrapper .swiper-slide {
        text-align: center;
        font-size: 18px;
        display: flex;
        justify-content: center;
        align-items: center;
        flex-direction:column;
        height: 80%;
      }
    #wordplaySection .swiper-button-next-wordplay{
      position: absolute;
      z-index: 9;
      top: 35%;
      left: 20%;
      transform:rotate(180deg);
      display:flex;
      justify-content:center;
      align-items:center;
    }
    #wordplaySection .swiper-button-prev-wordplay{
      position: absolute;
      z-index: 9;
      top: 35%;
      right: 20%;
      display:flex;
      justify-content:center;
      align-items:center;
  }
  @media(max-width:767px){
    #wordplaySection #wordwrapper {
      height: 70vh;
    }
    #wordplaySection #person_face{
      width:50px;
      height:50px;
    }
   #wordplaySection  #wordwrapper .swiper {
        width: 80%;
        height:50%;
      }
   #wordplaySection  #wordplaystar img{
      width:40px;
      height:40px;
    }
   #wordplaySection .element {
      position: absolute;
      width: 100px;
      height: 30px!important;
      top: 0px;
      left:50%;
      font-size:8px;
    }
    #wordplaySection #wordwrapper p{
      font-size:12px;
      margin:0;
      padding:0;
    }
   #wordplaySection #wordwrapper h2{
      font-size:2rem;
    }
    .swiper-button-next-wordplay{
      left: 5%;
    }
    .swiper-button-prev-wordplay{
      right: 5%;
  }
  }
</style>
<section id="wordplaySection">
<div id="wordwrapper">
  <div style="text-align:center;padding:2rem 0;">
    <h2>{{ section.settings.wordplay_heading }}</h2>
  </div>
  <div class="swiper mySwiperWordPlay">
    <div class="swiper-wrapper" style="width:80%;">
      {% for block in section.blocks %}
        <div class="swiper-slide">
          <div
            id="wordplaystar"
            style="width:100%;text-align:center;height:40px;display: flex;justify-content: center;align-items: center;"
            ;
          >
            {% if block.settings.Wordplay_star == '1 Star' %}
              <img
                src="https://cdn.shopify.com/s/files/1/0615/5095/2653/files/star_2.png?v=1713870404"
                width="80px"
                height="80px"
              >
            {% elsif block.settings.Wordplay_star == '2 Star' %}
              <img
                src="https://cdn.shopify.com/s/files/1/0615/5095/2653/files/two.png?v=1713870404"
                width="80px"
                height="80px"
              >
            {% elsif block.settings.Wordplay_star == '3 Star' %}
              <img
                src="https://cdn.shopify.com/s/files/1/0615/5095/2653/files/three.png?v=1713870404"
                width="80px"
                height="80px"
              >
            {% elsif block.settings.Wordplay_star == '4 Star' %}
              <img
                src="https://cdn.shopify.com/s/files/1/0615/5095/2653/files/star_3.png?v=1713870403"
                width="80px"
                height="80px"
              >
            {% elsif block.settings.Wordplay_star == '5 Star' %}
              <img
                src="https://cdn.shopify.com/s/files/1/0615/5095/2653/files/rating.png?v=1713870404"
                width="80px"
                height="80px"
              >
            {% else %}
              <img style="display:none;">
            {% endif %}
          </div>
          <div>
            <p style="padding:0 2rem;">{{ block.settings.wordplay_text }}</p>
          </div>
          <div>
            {% if block.settings.wordplay_image != blank %}
              <img id="person_face"
                style="border-radius:100%;object-fit:cover;"
                src="{{ block.settings.wordplay_image | img_url:'master' }}"
                width="100px"
                height="100px"
              >
            {% elsif block.settings.wordplay_image == blank %}
              <img id="person_face"
                style="border-radius:100%;object-fit:cover;"
                src="https://cdn.shopify.com/s/files/1/0615/5095/2653/files/placeholder-images-collection-1_large_af129419-bbb1-4281-a220-740f7f1bc5d0.webp?v=1717152378"
                width="100px"
                height="100px"
              >
            {% endif %}
            <p style="padding:0;margin:0;">{{ block.settings.wordplay_name }}</p>
          </div>
        </div>
      {% endfor %}
    </div>
    <div class="swiper-pagination-wordplay"></div>
  </div>
  <div class="swiper-button-next-wordplay">
    <img
      src="https://cdn.shopify.com/s/files/1/0615/5095/2653/files/arrow-right.png?v=1714565384"
      width="30px"
      height="30px"
    >
  </div>
  <div class="swiper-button-prev-wordplay">
    <img
      src="https://cdn.shopify.com/s/files/1/0615/5095/2653/files/arrow-right.png?v=1714565384"
      width="30px"
      height="30px"
    >
  </div>
  <div class="element">Highly recommended!</div>
  <div class="element">amazing!</div>
  <div class="element">excellent!</div>
  <div class="element">worth buying!</div>
  <div class="element">i love it!</div>
  <div class="element">works great!</div>
  <div class="element">Highly recommended!</div>
  <div class="element">amazing!</div>
  <div class="element">excellent!</div>
  <div class="element">worth buying!</div>
  <div class="element">i love it!</div>
  <div class="element">works great!</div>
  <div class="element">Highly recommended!</div>
  <div class="element">amazing!</div>
  <div class="element">excellent!</div>
  <div class="element">worth buying!</div>
  <div class="element">i love it!</div>
  <div class="element">works great!</div>
</div>
  </section>
  
<script
  src="https://code.jquery.com/jquery-3.7.1.min.js"
  integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo="
  crossorigin="anonymous"
></script>

<script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>

<!-- <script src="http://benahm.github.io/jquery.throwable/javascripts/jquery.throwable.js" type="text/javascript"></script> -->

{{ "wordplay.js" | asset_url | script_tag }}

<script>
          $(".element").throwable({
            containment: "parent",
            drag:true,
            gravity:{x:0,y:2},
            impulse:{
                f:200,
                p:{x:0,y:1.5}
            },
            autostart:false,
            bounce:0.5,
            damping:10,
            collisionDetection: false
        });
        var swiperWordPlay = new Swiper(".mySwiperWordPlay", {
          navigation: {
              nextEl: ".swiper-button-next-wordplay",
              prevEl: ".swiper-button-prev-wordplay",
            },
            loop:true,
            pagination: {
              el: ".swiper-pagination-wordplay",
              dynamicBullets: true,
            },
          });
  // document.body.style.overflow = "auto";
    //   function myFunction(x) {
    //   if (x.matches) { 
    //     let wrapper = document.querySelector("#wordwrapper");
    //     let wordbar = document.querySelectorAll(".element");
    //     wordbar.forEach((event) => {
    //     event.addEventListener('touchstart', () => {
    //       document.body.style.overflow = "hidden";
    //     });
    //     event.addEventListener('touchmove', () => {
    //       document.body.style.overflow = "hidden";
    //     });
    //     event.addEventListener('touchend', () => {
    //       document.body.style.overflow = "auto";
    //     });
    //   });

    //   wrapper.addEventListener('touchstart', () => {
    //       document.body.style.overflow = "auto";
    //     });
    //     wrapper.addEventListener('touchmove', () => {
    //       document.body.style.overflow = "auto";
    //     });
    //     wrapper.addEventListener('touchend', () => {
    //       document.body.style.overflow = "auto";
    //     });
    //   }
    // }

    // // Create a MediaQueryList object
    // var x = window.matchMedia("(max-width: 767px)")

    // // Call listener function at run time
    // myFunction(x);

    // // Attach listener function on state changes
    // x.addEventListener("change", function() {
    //   myFunction(x);
    // });
</script>

{% schema %}
{
  "name": "wordplay",
  "settings": [
    {
      "type": "header",
      "content": "Color"
    },
    {
      "type": "color",
      "id": "wordplay_section_color",
      "label": "Section Color"
    },
    {
      "type": "color",
      "id": "wordbar_text_color",
      "label": "Text Color"
    },
    {
      "type": "color",
      "id": "wordbar_bg_color",
      "label": "bar Background Color"
    },
    {
      "type": "text",
      "id": "wordplay_heading",
      "label": "Heading"
    },
    {
      "type": "range",
      "id": "wordplay_bar_corner",
      "label": "Bar Corner",
      "max": 30,
      "min": 0,
      "step": 1,
      "unit": "px",
      "default" : 15
    }
  ],
  "blocks": [
    {
      "type": "text",
      "name": "Add Review",
      "settings" : [
        {
          "type": "select",
          "id": "Wordplay_star",
          "label": "Rating",
          "options": [
            {
              "label": "No Star",
              "value": "No Star"
            },
            {
              "label": "1 Star",
              "value": "1 Star"
            },
            {
              "label": "2 Star",
              "value": "2 Star"
            },
            {
              "label": "3 Star",
              "value": "3 Star"
            },
            {
              "label": "4 Star",
              "value": "4 Star"
            },
            {
              "label": "5 Star",
              "value": "5 Star"
            }
          ]
        },
        {
          "type": "text",
          "id": "wordplay_text",
          "label": "Add Review"
        },
        {
          "type": "image_picker",
          "id": "wordplay_image",
          "label": "Add Image"
        },
        {
          "type": "text",
          "id": "wordplay_name",
          "label": "Add Name"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "wordplay"
    }
  ]
}
{% endschema %}
